{% extends 'base_template.html.twig' %}

{% block title %}
	VHS | Liste des quizz
{% endblock %}


{% block content %}

	<main>
		{# Bouton créer un quizz collé en bas à droite de la fenêtre #}
		{# Redirige vers creationQuizz.html.twig avec l'identifiant de l'utilisateur #}
		<a href="index.php?controller=quizz&methode=creerQuizz&idUtilisateur={{ quiz.idUtilisateur }}" class="btn btn-myprimary position-fixed bottom-0 end-0 me-4 mb-4 px-6 d-flex align-items-center justify-content-center" style="border-radius: 50px; white-space: nowrap; min-width: 200px;">
			<i class="bi bi-pencil" style="font-size: 1.3rem; margin-right: 0.2 rem;"></i>
			Créer un quizz
		</a>
		<div class="container">
			<br>
			<div class="container row">
				<div class = "col-4">
					<h3> Les quizz : </h3>
					<br>
						{% for quiz in quizz %}
						<div class="col-md-12 mb-4">
						{# Carte de chaque quizz contenant son titre, sa description, sa difficulté, sa date de création et l'id de l'utilisateur auteur mais affiche son pseudo à la place' #}
							<div class="card mb-3 bg-mydark text-white rounded" style="max-width: 540px;">
								<div class="row g-0">
									<div class="card-body">
										<h5 class="card-title">{{ quiz.titre }}</h5>
										<br>
										<p class="card-text">{{ quiz.description }}</p>
										<p class="card-text">Difficulté : {{ quiz.difficulte }}</p>
										<small class="text-white card-text">Fait le {{ quiz.dateC }}</small><br>
										<small class="text-white card-text">Par {{ quiz.idUtilisateur }}</small><br>
										<br>
										{# Redirige vers jouerQuizz.html.twig avec l'identifiant du quizz #}
										<a href="index.php?controller=quizz&methode=jouerQuizz&idQuizz={{ quiz.id }}" class="btn btn-myprimary">Jouer</a>
									</div>
								</div>
							</div>
						</div>
						{% endfor %}
					</div>
					<div class="col-4">
					</div>
					<div class="col-4">
						<h3> Mes quizz : </h3>
						<br>
						{% for quiz in quizz %}
							{% if quiz.idUtilisateur == idUtilisateur %}
								<div class="col-md-12 mb-4">
								{# Carte de chaque quizz créé par l'utilisateur connecté contenant son titre, sa description, sa difficulté et sa date de création #}
									<div class="card mb-3" style="max-width: 540px;">
										<div class="row g-0">
											<div class="card-body">
												<h5 class="card-title">{{ quiz.titre }}</h5>
												<p class="card-text">{{ quiz.description }}</p>
												<p class="card-text">Difficulté : {{ quiz.difficulte }}</p>
												<p class="card-text"><small class="text-body-secondary">Fait le {{ quiz.dateC }}</small></p>
												{# Redirige vers jouerQuizz.html.twig avec l'identifiant du quizz #}
												<a href="index.php?controller=quizz&methode=gererQuizz&idQuizz={{ quiz.id }}" class="btn btn-myprimary">Gérer</a>
											</div>
										</div>
									</div>
								</div>
							{% endif %}
						{% endfor %}
						{% if not quizz.idUtilisateur %}
							<p> Vous n'avez créé aucun quizz. </p>
						{% endif %}
					</div>
				</div>
			</div>
		</div>
	</main>

{% endblock %}